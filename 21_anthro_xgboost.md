

``` python
import pandas as pd
import xgboost as xgb
import pickle
```

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
train=pd.read_csv('../data/processed/ANSURIInormalizedtest.csv')
```

``` python
def make_model(predicted_variable, train, model_type=False):
    if model_type == 'ardregression':
        model = linear_model.ARDRegression()
    elif model_type == 'linearregression':
        model = linear_model.LinearRegression()
    elif model_type == 'ridge':
        model = linear_model.Ridge()
    elif model_type == 'lasso':
        model = linear_model.Lasso()
    elif model_type == 'bayesianridge':
        model = linear_model.BayesianRidge()
    else:
        model = xgb.XGBRegressor(objective='reg:squarederror', n_estimators=100, learning_rate=0.1)
        
    x_train = train[['weightkg','stature','Gender']]
    y_train = train[[predicted_variable]]
    model.fit(x_train, y_train.values.flatten())
    return model
```

``` python
y_train=train.iloc[:,1:94].drop('weightkg',axis=1).drop('stature',axis=1)
variables = y_train.columns[1:2]
kindofmodel = 'xgb'
for var in variables:
    model = make_model(var, train, kindofmodel)
    with open(f'../output/anthro_models/xgboost/pickle_{var}_{kindofmodel}','wb') as file:
        pickle.dump(model,file)
```
